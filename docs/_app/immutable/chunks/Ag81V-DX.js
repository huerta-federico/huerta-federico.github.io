import{aG as Z,g as V,a5 as M,aD as G,b as J,aH as Y,ab as W,m as f,i as d,a4 as K,ai as T,R as $,j as z,Z as R,W as ee,$ as p,aI as N,a8 as A,aJ as x,aK as m,aL as H,aM as te,p as I,c as B,aN as se,ac as D,T as y,aA as ie,X as ne,aO as L,aP as ae,am as re,aQ as he,aR as oe,ae as b,aS as le,Q as j,aT as de,aU as q,Y as v,n as Q,aV as S,aW as F,aX as fe,ag as ue,a6 as _e,aY as ce,aZ as P,a_ as pe,a$ as E,N as ge,l as ve,_ as ye,b0 as me,P as Ee}from"./CRPMldCt.js";function Te(s){let e=0,t=M(0),i;return()=>{Z()&&(V(t),G(()=>(e===0&&(i=J(()=>s(()=>Y(t)))),e+=1,()=>{W(()=>{e-=1,e===0&&(i?.(),i=void 0,Y(t))})})))}}var be=re|he|oe;function Re(s,e,t){new we(s,e,t)}class we{parent;#i=!1;#t;#p=d?f:null;#n;#d;#a;#s=null;#e=null;#r=null;#h=null;#f=0;#o=0;#u=!1;#l=null;#v=()=>{this.#l&&K(this.#l,this.#f)};#y=Te(()=>(this.#l=M(this.#f),()=>{this.#l=null}));constructor(e,t,i){this.#t=e,this.#n=t,this.#d=i,this.parent=T.b,this.#i=!!this.#n.pending,this.#a=$(()=>{if(T.b=this,d){const a=this.#p;z(),a.nodeType===R&&a.data===ee?this.#E():this.#m()}else{try{this.#s=p(()=>i(this.#t))}catch(a){this.error(a)}this.#o>0?this.#c():this.#i=!1}},be),d&&(this.#t=f)}#m(){try{this.#s=p(()=>this.#d(this.#t))}catch(e){this.error(e)}this.#i=!1}#E(){const e=this.#n.pending;e&&(this.#e=p(()=>e(this.#t)),N.enqueue(()=>{this.#s=this.#_(()=>(N.ensure(),p(()=>this.#d(this.#t)))),this.#o>0?this.#c():(A(this.#e,()=>{this.#e=null}),this.#i=!1)}))}is_pending(){return this.#i||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#n.pending}#_(e){var t=T,i=I,a=B;x(this.#a),m(this.#a),H(this.#a.ctx);try{return e()}catch(n){return te(n),null}finally{x(t),m(i),H(a)}}#c(){const e=this.#n.pending;this.#s!==null&&(this.#h=document.createDocumentFragment(),Ne(this.#s,this.#h)),this.#e===null&&(this.#e=p(()=>e(this.#t)))}#g(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#g(e);return}this.#o+=e,this.#o===0&&(this.#i=!1,this.#e&&A(this.#e,()=>{this.#e=null}),this.#h&&(this.#t.before(this.#h),this.#h=null))}update_pending_count(e){this.#g(e),this.#f+=e,se.add(this.#v)}get_effect_pending(){return this.#y(),V(this.#l)}error(e){var t=this.#n.onerror;let i=this.#n.failed;if(this.#u||!t&&!i)throw e;this.#s&&(D(this.#s),this.#s=null),this.#e&&(D(this.#e),this.#e=null),this.#r&&(D(this.#r),this.#r=null),d&&(y(this.#p),ie(),y(ne()));var a=!1,n=!1;const l=()=>{if(a){le();return}a=!0,n&&ae(),N.ensure(),this.#f=0,this.#r!==null&&A(this.#r,()=>{this.#r=null}),this.#i=this.has_pending_snippet(),this.#s=this.#_(()=>(this.#u=!1,p(()=>this.#d(this.#t)))),this.#o>0?this.#c():this.#i=!1};var u=I;try{m(null),n=!0,t?.(e,l),n=!1}catch(_){L(_,this.#a&&this.#a.parent)}finally{m(u)}i&&W(()=>{this.#r=this.#_(()=>{this.#u=!0;try{return p(()=>{i(this.#t,()=>e,()=>l)})}catch(_){return L(_,this.#a.parent),null}finally{this.#u=!1}})})}}function Ne(s,e){for(var t=s.nodes_start,i=s.nodes_end;t!==null;){var a=t===i?null:b(t);e.append(t),t=a}}const Ae=["touchstart","touchmove"];function De(s){return Ae.includes(s)}let o;function Se(){o=void 0}function ke(s){let e=null,t=d;var i;if(d){for(e=f,o===void 0&&(o=Q(document.head));o!==null&&(o.nodeType!==R||o.data!==q);)o=b(o);o===null?v(!1):o=y(b(o))}d||(i=document.head.appendChild(j()));try{$(()=>s(i),de)}finally{t&&(v(!0),o=f,y(e))}}function Ce(s,e){var t=e==null?"":typeof e=="object"?e+"":e;t!==(s.__t??=s.nodeValue)&&(s.__t=t,s.nodeValue=t+"")}function Fe(s,e){return U(s,e)}function Ye(s,e){S(),e.intro=e.intro??!1;const t=e.target,i=d,a=f;try{for(var n=Q(t);n&&(n.nodeType!==R||n.data!==q);)n=b(n);if(!n)throw F;v(!0),y(n);const l=U(s,{...e,anchor:n});return v(!1),l}catch(l){if(l instanceof Error&&l.message.split(`
`).some(u=>u.startsWith("https://svelte.dev/e/")))throw l;return l!==F&&console.warn("Failed to hydrate: ",l),e.recover===!1&&fe(),S(),ue(t),v(!1),Fe(s,e)}finally{v(i),y(a),Se()}}const g=new Map;function U(s,{target:e,anchor:t,props:i={},events:a,context:n,intro:l=!0}){S();var u=new Set,_=c=>{for(var h=0;h<c.length;h++){var r=c[h];if(!u.has(r)){u.add(r);var k=De(r);e.addEventListener(r,E,{passive:k});var C=g.get(r);C===void 0?(document.addEventListener(r,E,{passive:k}),g.set(r,1)):g.set(r,C+1)}}};_(_e(ce)),P.add(_);var w=void 0,X=pe(()=>{var c=t??e.appendChild(j());return Re(c,{pending:()=>{}},h=>{if(n){ge({});var r=B;r.c=n}if(a&&(i.$$events=a),d&&ve(h,null),w=s(h,i)||{},d&&(T.nodes_end=f,f===null||f.nodeType!==R||f.data!==ye))throw me(),F;n&&Ee()}),()=>{for(var h of u){e.removeEventListener(h,E);var r=g.get(h);--r===0?(document.removeEventListener(h,E),g.delete(h)):g.set(h,r)}P.delete(_),c!==t&&c.parentNode?.removeChild(c)}});return O.set(w,X),w}let O=new WeakMap;function xe(s,e){const t=O.get(s);return t?(O.delete(s),t(e)):Promise.resolve()}export{ke as a,Ye as h,Fe as m,Ce as s,xe as u};
